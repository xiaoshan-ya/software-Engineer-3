### SUMMARY Fixes a bug where some tabs couldn't be deleted due to native filters that point to no-longer existing charts within the tab.  This PR fixes the acute issue, but there's room for improvement! Whenever a chart is removed, we should 1) confirm that no filter is scoped to that missing chart any longer. 2) (optional) if the filter no longer has ANY charts within scope, we could ask the user if they want to delete it.  ### BEFORE/AFTER SCREENSHOTS OR ANIMATED GIF <!--- Skip this if not applicable --> Before: ![before](https://user-images.githubusercontent.com/812905/125387559-5d31b580-e35b-11eb-82a7-eb54af3fa94f.gif)  After: ![After](https://user-images.githubusercontent.com/812905/125387575-628f0000-e35b-11eb-9f80-5a17ed4a6c87.gif)  ### TESTING INSTRUCTIONS <!--- Required! What steps can be taken to manually verify the changes? --> To repro the issue (prior to this PR):  1) Make a dashboard 2) Add tabs 3) Add a chart to a tab (I just used a table) 4) Add a native filter scoped to that chart. 5) (Problem 1) Try to delete the tab containing the chart with the scoped filter. You get an ugly error. 6) Remove the chart with the scoped filter, optionally saving the dash 7) (Problem 2) Try to delete the tab again. Even with the chart gone, you still can't remove the tab.  With this PR, you should be able to remove the tab _with or without_ the chart.  ### ADDITIONAL INFORMATION <!--- Check any relevant boxes with "x" --> <!--- HINT: Include "Fixes #nnn" if you are fixing an existing issue --> - [ ] Has associated issue: - [ ] Changes UI - [ ] Includes DB Migration (follow approval process in [SIP-59](https://github.com/apache/superset/issues/13351))   - [ ] Migration is atomic, supports rollback & is backwards-compatible   - [ ] Confirm DB migration upgrade and downgrade tested   - [ ] Runtime estimates and downtime expectations provided - [ ] Introduces new feature or API - [ ] Removes existing feature or API  
@kgabryje if you keep a personal "rainy day" backlog, you might be a good candidate to fix the root cause... the filter _seems_ to still be scoped to a deleted chart. That's probably not good in the long run, but doesn't seem to be a _problem_ for now. 
# [Codecov](https://codecov.io/gh/apache/superset/pull/15650?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report > Merging [#15650](https://codecov.io/gh/apache/superset/pull/15650?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (1b78ee7) into [master](https://codecov.io/gh/apache/superset/commit/5d86ffe7680aff2edf1a85d93c157c24ce9a3e04?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (5d86ffe) will **increase** coverage by `0.04%`. > The diff coverage is `83.89%`.  > :exclamation: Current head 1b78ee7 differs from pull request most recent head 5f4998d. Consider uploading reports for the commit 5f4998d to get more accurate results [![Impacted file tree graph](https://codecov.io/gh/apache/superset/pull/15650/graphs/tree.svg?width=650&height=150&src=pr&token=KsB0fHcx6l&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)](https://codecov.io/gh/apache/superset/pull/15650?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)  ```diff @@            Coverage Diff             @@ ##           master   #15650      +/-   ## ========================================== + Coverage   76.86%   76.91%   +0.04%      ==========================================   Files         977      978       +1        Lines       51343    51487     +144        Branches     6920     6951      +31      ========================================== + Hits        39466    39602     +136      - Misses      11654    11661       +7      - Partials      223      224       +1      ```  | Flag | Coverage Œî | | |---|---|---| | javascript | `71.52% <83.83%> (+0.13%)` | :arrow_up: |  Flags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#carryforward-flags-in-the-pull-request-comment) to find out more.  | [Impacted Files](https://codecov.io/gh/apache/superset/pull/15650?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Œî | | |---|---|---| | [...nd/src/explore/components/ExploreViewContainer.jsx](https://codecov.io/gh/apache/superset/pull/15650/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-c3VwZXJzZXQtZnJvbnRlbmQvc3JjL2V4cGxvcmUvY29tcG9uZW50cy9FeHBsb3JlVmlld0NvbnRhaW5lci5qc3g=) | `2.15% <0.00%> (√∏)` | | | [...c/visualizations/TimeTable/TimeTableChartPlugin.js](https://codecov.io/gh/apache/superset/pull/15650/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-c3VwZXJzZXQtZnJvbnRlbmQvc3JjL3Zpc3VhbGl6YXRpb25zL1RpbWVUYWJsZS9UaW1lVGFibGVDaGFydFBsdWdpbi5qcw==) | `75.00% <√∏> (√∏)` | | | [...c/views/CRUD/data/database/DatabaseModal/index.tsx](https://codecov.io/gh/apache/superset/pull/15650/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-c3VwZXJzZXQtZnJvbnRlbmQvc3JjL3ZpZXdzL0NSVUQvZGF0YS9kYXRhYmFzZS9EYXRhYmFzZU1vZGFsL2luZGV4LnRzeA==) | `47.57% <14.28%> (+0.15%)` | :arrow_up: | | [...t-frontend/src/views/CRUD/data/query/QueryList.tsx](https://codecov.io/gh/apache/superset/pull/15650/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-c3VwZXJzZXQtZnJvbnRlbmQvc3JjL3ZpZXdzL0NSVUQvZGF0YS9xdWVyeS9RdWVyeUxpc3QudHN4) | `70.96% <37.50%> (-0.88%)` | :arrow_down: | | [...t-frontend/src/components/DynamicPlugins/index.tsx](https://codecov.io/gh/apache/superset/pull/15650/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-c3VwZXJzZXQtZnJvbnRlbmQvc3JjL2NvbXBvbmVudHMvRHluYW1pY1BsdWdpbnMvaW5kZXgudHN4) | `37.28% <63.15%> (+18.13%)` | :arrow_up: | | [...-frontend/src/views/CRUD/welcome/ActivityTable.tsx](https://codecov.io/gh/apache/superset/pull/15650/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-c3VwZXJzZXQtZnJvbnRlbmQvc3JjL3ZpZXdzL0NSVUQvd2VsY29tZS9BY3Rpdml0eVRhYmxlLnRzeA==) | `78.84% <85.71%> (+0.41%)` | :arrow_up: | | [...plore/components/controls/VizTypeControl/index.tsx](https://codecov.io/gh/apache/superset/pull/15650/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-c3VwZXJzZXQtZnJvbnRlbmQvc3JjL2V4cGxvcmUvY29tcG9uZW50cy9jb250cm9scy9WaXpUeXBlQ29udHJvbC9pbmRleC50c3g=) | `86.04% <86.04%> (√∏)` | | | [...perset-frontend/src/addSlice/AddSliceContainer.tsx](https://codecov.io/gh/apache/superset/pull/15650/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-c3VwZXJzZXQtZnJvbnRlbmQvc3JjL2FkZFNsaWNlL0FkZFNsaWNlQ29udGFpbmVyLnRzeA==) | `82.05% <90.00%> (+3.26%)` | :arrow_up: | | [...ponents/controls/VizTypeControl/VizTypeGallery.tsx](https://codecov.io/gh/apache/superset/pull/15650/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-c3VwZXJzZXQtZnJvbnRlbmQvc3JjL2V4cGxvcmUvY29tcG9uZW50cy9jb250cm9scy9WaXpUeXBlQ29udHJvbC9WaXpUeXBlR2FsbGVyeS50c3g=) | `93.57% <93.57%> (√∏)` | | | [...end/src/SqlLab/components/RunQueryActionButton.tsx](https://codecov.io/gh/apache/superset/pull/15650/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-c3VwZXJzZXQtZnJvbnRlbmQvc3JjL1NxbExhYi9jb21wb25lbnRzL1J1blF1ZXJ5QWN0aW9uQnV0dG9uLnRzeA==) | `65.11% <100.00%> (+0.83%)` | :arrow_up: | | ... and [12 more](https://codecov.io/gh/apache/superset/pull/15650/diff?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | |  ------  [Continue to review full report at Codecov](https://codecov.io/gh/apache/superset/pull/15650?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation). > **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) > `Œî = absolute <relative> (impact)`, `√∏ = not affected`, `? = missing data` > Powered by [Codecov](https://codecov.io/gh/apache/superset/pull/15650?src=pr&el=footer&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation). Last update [5d86ffe...5f4998d](https://codecov.io/gh/apache/superset/pull/15650?src=pr&el=lastupdated&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation).  
üè∑ 2021.27 
/testenv up 
@junlincc Ephemeral environment spinning up at http://54.213.230.210:8080. Credentials are `admin`/`admin`. Please allow several minutes for bootstrapping and startup. 
/testenv up FEATURE_DASHBOARD_NATIVE_FILTERS=true 
@rusackas Ephemeral environment spinning up at http://54.245.2.8:8080. Credentials are `admin`/`admin`. Please allow several minutes for bootstrapping and startup. 
LGTM! thanks for the quick fix! did spot a UX issue not caused by this PR, will file separately  @rosemarie-chiu wanna give a product/QA sign-off checkmark? üòâ  After   https://user-images.githubusercontent.com/67837651/125395984-bfd98000-e360-11eb-9ee0-2111f58a673f.mov  Before(unnecessary long video please skip watching lol )  https://user-images.githubusercontent.com/67837651/125396027-cbc54200-e360-11eb-9788-ee2231dde026.mov  https://user-images.githubusercontent.com/67837651/125396057-d7186d80-e360-11eb-8360-d7b2df693405.mov     
Tested with multiple filter some scope to all, some scope to specific tabs. ‚úÖ Product, QA sign off! 
Ephemeral environment shutdown and build artifacts deleted. 
