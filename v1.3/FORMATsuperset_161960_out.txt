Positive	Negative	Text
3	-2	### SUMMARY When user opened "Add new metric" popover and selected a column and/or aggregate, metric title is automatically set to "column(aggregate)". However, when user hovers with their mouse outside of the popover before saving, the title gets reset. Then, after saving, the label appears to be correct, but an empty string gets passed to executed query as a label, causing seemingly unrelated errors. This PR converts `MetricsControl` component from class to functional and uses memoization to prevent resetting the title.  ### BEFORE/AFTER SCREENSHOTS OR ANIMATED GIF Before: see linked issue and video in the comments After: https://user-images.githubusercontent.com/15073128/129045681-e33f2ab4-4aac-4d95-b928-6f5c3705e13f.mov  ### TESTING INSTRUCTIONS 1. Open a chart 2. Open new metric popover 3. Add a column and aggregate 4. Hover with your mouse outside of the popover - nothing should happen 5. Save the metric and run query 6. Chart should render as expected  ### ADDITIONAL INFORMATION <!--- Check any relevant boxes with "x" --> <!--- HINT: Include "Fixes #nnn" if you are fixing an existing issue --> - [x] Has associated issue: fixes #16067  - [ ] Changes UI - [ ] Includes DB Migration (follow approval process in [SIP-59](https://github.com/apache/superset/issues/13351))   - [ ] Migration is atomic, supports rollback & is backwards-compatible   - [ ] Confirm DB migration upgrade and downgrade tested   - [ ] Runtime estimates and downtime expectations provided - [ ] Introduces new feature or API - [ ] Removes existing feature or API  CC @graceguo-supercat @junlincc  
1	-1	/testenv up 
2	-1	@kgabryje Ephemeral environment spinning up at http://34.217.60.12:8080. Credentials are `admin`/`admin`. Please allow several minutes for bootstrapping and startup. 
2	-2	# [Codecov](https://codecov.io/gh/apache/superset/pull/16196?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report > Merging [#16196](https://codecov.io/gh/apache/superset/pull/16196?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (86cc19a) into [master](https://codecov.io/gh/apache/superset/commit/4df3672baad2791bef57f0348ccc0eaa8d09222e?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (4df3672) will **decrease** coverage by `0.09%`. > The diff coverage is `38.57%`.  [![Impacted file tree graph](https://codecov.io/gh/apache/superset/pull/16196/graphs/tree.svg?width=650&height=150&src=pr&token=KsB0fHcx6l&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)](https://codecov.io/gh/apache/superset/pull/16196?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)  ```diff @@            Coverage Diff             @@ ##           master   #16196      +/-   ## ========================================== - Coverage   76.83%   76.73%   -0.10%      ==========================================   Files         996      996                 Lines       53060    52999      -61        Branches     6766     6738      -28      ========================================== - Hits        40766    40670      -96      - Misses      12066    12100      +34      - Partials      228      229       +1      ```  | Flag | Coverage Œî | | |---|---|---| | javascript | `70.97% <38.57%> (-0.21%)` | :arrow_down: |  Flags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#carryforward-flags-in-the-pull-request-comment) to find out more.  | [Impacted Files](https://codecov.io/gh/apache/superset/pull/16196?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Œî | | |---|---|---| | [...mponents/controls/MetricControl/MetricsControl.jsx](https://codecov.io/gh/apache/superset/pull/16196/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-c3VwZXJzZXQtZnJvbnRlbmQvc3JjL2V4cGxvcmUvY29tcG9uZW50cy9jb250cm9scy9NZXRyaWNDb250cm9sL01ldHJpY3NDb250cm9sLmpzeA==) | `42.05% <38.57%> (-40.89%)` | :arrow_down: | | [...ontrols/DndColumnSelectControl/DndMetricSelect.tsx](https://codecov.io/gh/apache/superset/pull/16196/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-c3VwZXJzZXQtZnJvbnRlbmQvc3JjL2V4cGxvcmUvY29tcG9uZW50cy9jb250cm9scy9EbmRDb2x1bW5TZWxlY3RDb250cm9sL0RuZE1ldHJpY1NlbGVjdC50c3g=) | `41.21% <0.00%> (-0.57%)` | :arrow_down: |  ------  [Continue to review full report at Codecov](https://codecov.io/gh/apache/superset/pull/16196?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation). > **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) > `Œî = absolute <relative> (impact)`, `√∏ = not affected`, `? = missing data` > Powered by [Codecov](https://codecov.io/gh/apache/superset/pull/16196?src=pr&el=footer&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation). Last update [4df3672...86cc19a](https://codecov.io/gh/apache/superset/pull/16196?src=pr&el=lastupdated&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation).  
1	-1	Ephemeral environment shutdown and build artifacts deleted. 
1	-1	üè∑ 2021.31 
