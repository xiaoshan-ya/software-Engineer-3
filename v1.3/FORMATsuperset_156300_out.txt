Positive	Negative	Text
3	-1	### SUMMARY <!--- Describe the change below, including rationale and design decisions --> Fixes: https://github.com/apache/superset/issues/15129  ### BEFORE/AFTER SCREENSHOTS OR ANIMATED GIF <!--- Skip this if not applicable -->   https://user-images.githubusercontent.com/56388545/125189655-d806ad80-e241-11eb-9c34-6fb2d0259151.mov    ### TESTING INSTRUCTIONS <!--- Required! What steps can be taken to manually verify the changes? -->  ### ADDITIONAL INFORMATION <!--- Check any relevant boxes with "x" --> <!--- HINT: Include "Fixes #nnn" if you are fixing an existing issue --> - [ ] Has associated issue: - [ ] Changes UI - [ ] Includes DB Migration (follow approval process in [SIP-59](https://github.com/apache/superset/issues/13351))   - [ ] Migration is atomic, supports rollback & is backwards-compatible   - [ ] Confirm DB migration upgrade and downgrade tested   - [ ] Runtime estimates and downtime expectations provided - [ ] Introduces new feature or API - [ ] Removes existing feature or API  
2	-2	# [Codecov](https://codecov.io/gh/apache/superset/pull/15630?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report > Merging [#15630](https://codecov.io/gh/apache/superset/pull/15630?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (ec41b2a) into [master](https://codecov.io/gh/apache/superset/commit/83be06d2ccdd9b8d6200d95e383f5cd847166e3a?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (83be06d) will **decrease** coverage by `0.00%`. > The diff coverage is `83.33%`.  [![Impacted file tree graph](https://codecov.io/gh/apache/superset/pull/15630/graphs/tree.svg?width=650&height=150&src=pr&token=KsB0fHcx6l&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)](https://codecov.io/gh/apache/superset/pull/15630?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)  ```diff @@            Coverage Diff             @@ ##           master   #15630      +/-   ## ========================================== - Coverage   76.95%   76.94%   -0.01%      ==========================================   Files         976      976                 Lines       51290    51314      +24        Branches     6907     6922      +15      ========================================== + Hits        39468    39485      +17      - Misses      11603    11608       +5      - Partials      219      221       +2      ```  | Flag | Coverage Δ | | |---|---|---| | javascript | `71.41% <83.33%> (-0.01%)` | :arrow_down: |  Flags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#carryforward-flags-in-the-pull-request-comment) to find out more.  | [Impacted Files](https://codecov.io/gh/apache/superset/pull/15630?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Δ | | |---|---|---| | [...nd/src/dashboard/components/FiltersBadge/index.tsx](https://codecov.io/gh/apache/superset/pull/15630/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-c3VwZXJzZXQtZnJvbnRlbmQvc3JjL2Rhc2hib2FyZC9jb21wb25lbnRzL0ZpbHRlcnNCYWRnZS9pbmRleC50c3g=) | `86.74% <ø> (-0.16%)` | :arrow_down: | | [...set-frontend/src/dashboard/containers/Dashboard.ts](https://codecov.io/gh/apache/superset/pull/15630/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-c3VwZXJzZXQtZnJvbnRlbmQvc3JjL2Rhc2hib2FyZC9jb250YWluZXJzL0Rhc2hib2FyZC50cw==) | `0.00% <ø> (ø)` | | | [...shboard/util/charts/getFormDataWithExtraFilters.ts](https://codecov.io/gh/apache/superset/pull/15630/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-c3VwZXJzZXQtZnJvbnRlbmQvc3JjL2Rhc2hib2FyZC91dGlsL2NoYXJ0cy9nZXRGb3JtRGF0YVdpdGhFeHRyYUZpbHRlcnMudHM=) | `93.33% <ø> (ø)` | | | [...src/dashboard/components/FiltersBadge/selectors.ts](https://codecov.io/gh/apache/superset/pull/15630/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-c3VwZXJzZXQtZnJvbnRlbmQvc3JjL2Rhc2hib2FyZC9jb21wb25lbnRzL0ZpbHRlcnNCYWRnZS9zZWxlY3RvcnMudHM=) | `75.22% <55.55%> (-0.48%)` | :arrow_down: | | [...nd/src/dashboard/util/activeAllDashboardFilters.ts](https://codecov.io/gh/apache/superset/pull/15630/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-c3VwZXJzZXQtZnJvbnRlbmQvc3JjL2Rhc2hib2FyZC91dGlsL2FjdGl2ZUFsbERhc2hib2FyZEZpbHRlcnMudHM=) | `94.59% <100.00%> (+2.00%)` | :arrow_up: | | [...tend/src/views/CRUD/annotation/AnnotationModal.tsx](https://codecov.io/gh/apache/superset/pull/15630/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-c3VwZXJzZXQtZnJvbnRlbmQvc3JjL3ZpZXdzL0NSVUQvYW5ub3RhdGlvbi9Bbm5vdGF0aW9uTW9kYWwudHN4) | `60.44% <0.00%> (-2.52%)` | :arrow_down: | | [...s/CRUD/data/database/DatabaseModal/ModalHeader.tsx](https://codecov.io/gh/apache/superset/pull/15630/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-c3VwZXJzZXQtZnJvbnRlbmQvc3JjL3ZpZXdzL0NSVUQvZGF0YS9kYXRhYmFzZS9EYXRhYmFzZU1vZGFsL01vZGFsSGVhZGVyLnRzeA==) | `89.18% <0.00%> (-2.48%)` | :arrow_down: | | [...rontend/src/views/CRUD/dashboard/DashboardList.tsx](https://codecov.io/gh/apache/superset/pull/15630/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-c3VwZXJzZXQtZnJvbnRlbmQvc3JjL3ZpZXdzL0NSVUQvZGFzaGJvYXJkL0Rhc2hib2FyZExpc3QudHN4) | `72.46% <0.00%> (-2.17%)` | :arrow_down: | | [...c/views/CRUD/data/database/DatabaseModal/index.tsx](https://codecov.io/gh/apache/superset/pull/15630/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-c3VwZXJzZXQtZnJvbnRlbmQvc3JjL3ZpZXdzL0NSVUQvZGF0YS9kYXRhYmFzZS9EYXRhYmFzZU1vZGFsL2luZGV4LnRzeA==) | `47.41% <0.00%> (-0.45%)` | :arrow_down: | | [...ews/CRUD/annotationlayers/AnnotationLayerModal.tsx](https://codecov.io/gh/apache/superset/pull/15630/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-c3VwZXJzZXQtZnJvbnRlbmQvc3JjL3ZpZXdzL0NSVUQvYW5ub3RhdGlvbmxheWVycy9Bbm5vdGF0aW9uTGF5ZXJNb2RhbC50c3g=) | `69.47% <0.00%> (-0.32%)` | :arrow_down: | | ... and [22 more](https://codecov.io/gh/apache/superset/pull/15630/diff?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | |  ------  [Continue to review full report at Codecov](https://codecov.io/gh/apache/superset/pull/15630?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation). > **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) > `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data` > Powered by [Codecov](https://codecov.io/gh/apache/superset/pull/15630?src=pr&el=footer&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation). Last update [83be06d...ec41b2a](https://codecov.io/gh/apache/superset/pull/15630?src=pr&el=lastupdated&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation).  
2	-1	/testenv up FEATURE_DASHBOARD_NATIVE_FILTERS=true 
2	-1	@michael-s-molina Ephemeral environment spinning up at http://34.217.62.176:8080. Credentials are `admin`/`admin`. Please allow several minutes for bootstrapping and startup. 
1	-2	@simcha90 The bug was reported to occur when "Apply to all panels" scope is selected. When you create a new filter, "Apply to specific panels" with charts from different datasets deselected is the default, which means that in the attached video you run your tests with the charts that don't match deselected. However, this is an old issue. I would argue that it's no longer relevant, since we deselect charts that use different datasets by default. Selecting "Apply to all panels" is a conscious decision of the user. There are some cases when we want to apply a filter based on some dataset  to charts that use different dataset - that's why I didn't exclude those charts when using "Apply to all panels". See https://github.com/apache/superset/pull/15302. I'd suggest closing issue https://github.com/apache/superset/issues/15129 and this PR without merging. CC @jinghua-qa @junlincc @michael-s-molina  
1	-2	Simcha, if Junlin and Jinghua confirm that the issue is no longer relevant, then I apologise for your wasted time. The issue should have been closed by #15302  
1	-2	> Selecting "Apply to all panels" is a conscious decision of the user. There are some cases when we want to apply a filter based on some dataset to charts that use different dataset  Thank you @kgabryje. This "Apply to all panels" behavior **should not be changed**. This is critical for many dashboards in airbnb. If necessary, besides **"Apply to all panels"** and **"Apply to specific panel"**,  we could add another option say **"Apply to same dataset**. 
1	-1	Ephemeral environment shutdown and build artifacts deleted. 
1	-1	@graceguo-supercat @kgabryje @junlincc but if I understood correctly there is still exists issue, consider next case: 1. Create charts A and B with different datasets 1 and 2 2. Create Filter that affects dataset 1 with selected chart A scope 3. Update chart A in explore to use dataset 2 So now we have case that created Filter still affects chart A, but now this chart already use dataset 2... same in opposite way 
1	-1	@simcha90 I can see the need to make filter only applicable to a dataset, which can fix the issue that your described. So i suggest to add a new option: "**Apply to same dataset**".  But should not remove the existed option "**Apply to all panels**". 
